{"openapi":"3.1.0","info":{"title":"OpenAPI definition","version":"v0"},"servers":[{"url":"http://localhost:8080","description":"Generated server url"}],"paths":{"/fournisseurs/{slug}":{"get":{"tags":["supplier-controller"],"operationId":"getFournisseur","parameters":[{"name":"slug","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/supplierDTO"}}}}}},"put":{"tags":["supplier-controller"],"operationId":"updateFournisseur","parameters":[{"name":"slug","in":"path","required":true,"schema":{"type":"string"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/supplierDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/supplierDTO"}}}}}},"delete":{"tags":["supplier-controller"],"operationId":"deleteFournisseur","parameters":[{"name":"slug","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK"}}}},"/api/sales/{saleId}":{"put":{"tags":["sale-controller"],"operationId":"updateSale","parameters":[{"name":"saleId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/saleDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/sale"}}}}}}},"/api/customers/edit":{"put":{"tags":["customer-controller"],"operationId":"UpdateCustomer","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/customerDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/customerDTO"}}}}}}},"/fournisseurs":{"post":{"tags":["supplier-controller"],"operationId":"createFournisseur","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/supplierDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/supplierDTO"}}}}}}},"/api/sales":{"post":{"tags":["sale-controller"],"operationId":"createSale","parameters":[{"name":"customerId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/saleDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/sale"}}}}}}},"/api/sales/{saleId}/items":{"post":{"tags":["sale-controller"],"operationId":"addSaleItem","parameters":[{"name":"saleId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"productId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"quantity","in":"query","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"price","in":"query","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/purchases":{"get":{"tags":["purchase-controller"],"operationId":"getAllPurchases","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/purchaseDTO"}}}}}}},"post":{"tags":["purchase-controller"],"operationId":"createPurchase","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/purchaseDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/purchaseDTO"}}}}}}},"/api/products":{"get":{"tags":["product-controller"],"operationId":"getAllProducts","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/productDTO"}}}}}}},"post":{"tags":["product-controller"],"operationId":"createProduct","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/productDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/productDTO"}}}}}}},"/api/customers":{"get":{"tags":["customer-controller"],"operationId":"getAllCustomers","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/customerDTO"}}}}}}},"post":{"tags":["customer-controller"],"operationId":"saveCustomer","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/customerDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/customerDTO"}}}}}}},"/api/auth/register":{"post":{"tags":["auth-controller"],"operationId":"register","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/registerRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/authResponse"}}}}}}},"/api/auth/refresh":{"post":{"tags":["auth-controller"],"operationId":"refresh","responses":{"200":{"description":"OK"}}}},"/api/auth/auth":{"post":{"tags":["auth-controller"],"operationId":"authentication","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/authRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/authResponse"}}}}}}},"/fournisseurs/":{"get":{"tags":["supplier-controller"],"operationId":"getAllFournisseurs","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/supplierDTO"}}}}}}}},"/api/users":{"get":{"tags":["user-controller"],"operationId":"getAllUsers","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/userDTO"}}}}}}}},"/api/users/{id}":{"get":{"tags":["user-controller"],"operationId":"getUserById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/userDTO"}}}}}}},"/api/users/me":{"get":{"tags":["user-controller"],"operationId":"getCurrentUser","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/userDTO"}}}}}}},"/api/users/getuser":{"get":{"tags":["user-controller"],"operationId":"getuser","parameters":[{"name":"username","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/userDTO"}}}}}}},"/api/sales/invoice/{invoiceNumber}":{"get":{"tags":["sale-controller"],"operationId":"getSaleByInvoiceNumber","parameters":[{"name":"invoiceNumber","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/sale"}}}}}}},"/api/purchases/{slug}":{"get":{"tags":["purchase-controller"],"operationId":"getPurchaseBySupplier","parameters":[{"name":"slug","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/purchaseDTO"}}}}}}},"/api/purchases/invoice/{invoiceNumber}":{"get":{"tags":["purchase-controller"],"operationId":"getPurchaseByInvoiceNumber","parameters":[{"name":"invoiceNumber","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/purchaseDTO"}}}}}}},"/api/products/{id}":{"get":{"tags":["product-controller"],"operationId":"getProductById","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/productDTO"}}}}}},"delete":{"tags":["product-controller"],"operationId":"deleteProduct","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/products/supplier-count":{"get":{"tags":["product-controller"],"operationId":"getProductCountBySupplier","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"object","additionalProperties":{"type":"integer","format":"int64"}}}}}}}},"/api/products/out-of-stock":{"get":{"tags":["product-controller"],"operationId":"getOutOfStockProducts","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/productDTO"}}}}}}}},"/api/products/low-stock":{"get":{"tags":["product-controller"],"operationId":"getLowStockProducts","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/productDTO"}}}}}}}},"/api/customers/phone/{phone}":{"get":{"tags":["customer-controller"],"operationId":"getCustomerByPhone","parameters":[{"name":"phone","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/customerDTO"}}}}}}},"/api/customers/email/{email}":{"get":{"tags":["customer-controller"],"operationId":"getCustomerByEmail","parameters":[{"name":"email","in":"path","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/customerDTO"}}}}}}},"/api/auth/me":{"get":{"tags":["auth-controller"],"operationId":"getCurrentUser_1","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/User"}}}}}}},"/api/sales/{saleId}/items/{saleItemId}":{"delete":{"tags":["sale-controller"],"operationId":"removeSaleItem","parameters":[{"name":"saleId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"saleItemId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/purchases/{id}":{"delete":{"tags":["purchase-controller"],"operationId":"deletePurchase","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}},"/api/customers/{id}":{"delete":{"tags":["customer-controller"],"operationId":"deleteCustomer","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK"}}}}},"components":{"schemas":{"supplierDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"slug":{"type":"string"},"name":{"type":"string"},"email":{"type":"string"},"telephone":{"type":"string"},"adresse":{"type":"string"},"contactPerson":{"type":"string"},"productIds":{"type":"array","items":{"type":"integer","format":"int64"}},"isDeleted":{"type":"boolean"}}},"customerDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"customerName":{"type":"string"},"email":{"type":"string"},"phone":{"type":"string"},"address":{"type":"string"}}},"saleDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"saleDate":{"type":"string","format":"date-time"},"amount":{"type":"number"},"invoiceNumber":{"type":"string"},"customer":{"$ref":"#/components/schemas/customerDTO"},"saleItems":{"type":"array","items":{"$ref":"#/components/schemas/saleitemDTO"}}}},"saleitemDTO":{"type":"object","properties":{"productId":{"type":"integer","format":"int64"},"quantity":{"type":"integer","format":"int64"},"price":{"type":"integer","format":"int64"}}},"customer":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"customerName":{"type":"string"},"email":{"type":"string"},"phone":{"type":"string"},"address":{"type":"string"},"sales":{"type":"array","items":{"$ref":"#/components/schemas/sale"}}}},"product":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string"},"price":{"type":"number","format":"double"},"supplier":{"$ref":"#/components/schemas/supplier"},"stockQuantity":{"type":"integer","format":"int64"},"stockThreshold":{"type":"integer","format":"int64"}}},"sale":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"saleDate":{"type":"string","format":"date-time"},"amount":{"type":"number"},"invoiceNumber":{"type":"string"},"customer":{"$ref":"#/components/schemas/customer"},"saleItems":{"type":"array","items":{"$ref":"#/components/schemas/saleItem"}}}},"saleItem":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"product":{"$ref":"#/components/schemas/product"},"quantity":{"type":"integer","format":"int64"},"price":{"type":"integer","format":"int64"},"sale":{"$ref":"#/components/schemas/sale"}}},"supplier":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"slug":{"type":"string"},"name":{"type":"string"},"email":{"type":"string"},"telephone":{"type":"string"},"adresse":{"type":"string"},"contactPerson":{"type":"string"},"products":{"type":"array","items":{"$ref":"#/components/schemas/product"}},"deleted":{"type":"boolean"}}},"purchaseDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"supplierId":{"type":"integer","format":"int64"},"purchaseItems":{"type":"array","items":{"$ref":"#/components/schemas/purchaseItemDTO"}},"totalAmount":{"type":"number","format":"double"},"purchaseDate":{"type":"string","format":"date-time"},"invoiceNumber":{"type":"string"},"approved":{"type":"boolean"},"status":{"type":"string"}}},"purchaseItemDTO":{"type":"object","properties":{"productId":{"type":"integer","format":"int64"},"quantity":{"type":"integer","format":"int32"},"price":{"type":"number","format":"double"}}},"productDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string"},"price":{"type":"number","format":"double"},"stockQuantity":{"type":"integer","format":"int64"},"stockThreshold":{"type":"integer","format":"int64"},"supplier":{"$ref":"#/components/schemas/supplierDTO"}}},"registerRequest":{"type":"object","properties":{"email":{"type":"string"},"password":{"type":"string"},"role":{"type":"string","enum":["ADMIN","USER"]},"username":{"type":"string"}}},"authResponse":{"type":"object","properties":{"accessToken":{"type":"string"},"refreshToken":{"type":"string"}}},"authRequest":{"type":"object","properties":{"username":{"type":"string"},"password":{"type":"string"}}},"userDTO":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"username":{"type":"string"},"email":{"type":"string"},"role":{"type":"string","enum":["ADMIN","USER"]}}},"GrantedAuthority":{"type":"object","properties":{"authority":{"type":"string"}}},"User":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"username":{"type":"string"},"email":{"type":"string"},"password":{"type":"string"},"role":{"type":"string","enum":["ADMIN","USER"]},"enabled":{"type":"boolean"},"authorities":{"type":"array","items":{"$ref":"#/components/schemas/GrantedAuthority"}},"accountNonExpired":{"type":"boolean"},"accountNonLocked":{"type":"boolean"},"credentialsNonExpired":{"type":"boolean"}}}}}}
